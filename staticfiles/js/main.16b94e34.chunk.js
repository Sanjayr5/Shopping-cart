(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),a=c(20),s=c.n(a),i=(c(83),c(84),c(119)),l=c(10),j=c(12),o=c(121),d=c(123),b=c(49),h=c(125),u=c(57),O=c(71),x=c(1);var m=function(e){var t=Object(j.c)((function(e){return e.userLogin})).userInfo;return Object(x.jsxs)("header",{children:[Object(x.jsx)(o.a,{bg:"primary",expand:"lg"}),Object(x.jsxs)(o.a,{bg:"light",expand:"lg",collapseOnSelect:!0,children:[Object(x.jsx)(O.LinkContainer,{to:"/",children:Object(x.jsx)(o.a.Brand,{children:Object(x.jsx)("h1",{children:"Shopping Cart"})})}),Object(x.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(x.jsx)(o.a.Collapse,{id:"basic-navbar-nav",children:Object(x.jsx)(d.a,{className:"ml-auto",children:t?Object(x.jsxs)("div",{children:[Object(x.jsx)(l.Link,{to:"/",children:Object(x.jsxs)(b.a,{variant:"outline-primary",title:"login",children:[Object(x.jsx)("i",{class:"bi bi-house",children:"Home"})," "]})}),"\xa0\xa0\xa0",Object(x.jsx)(l.Link,{to:"/cart",children:Object(x.jsxs)(b.a,{variant:"outline-primary",title:"login",children:[Object(x.jsx)("i",{class:"bi bi-cart4",children:"Cart"})," "]})}),"\xa0\xa0\xa0",Object(x.jsx)(h.a,{drop:"left",variant:"outline-primary",title:"Hi, ".concat(t.name),children:Object(x.jsx)(u.a.Item,{children:Object(x.jsx)(l.Link,{onClick:function(){window.localStorage.clear(),window.location.reload(),e.history.push("/")},children:"Logout"})})},"left")]}):Object(x.jsx)(l.Link,{to:"/login",children:Object(x.jsxs)(b.a,{variant:"outline-primary",title:"login",children:[Object(x.jsx)("i",{class:"bi bi-person",children:"Login"})," "]})})})})]})]})};var p=function(){return Object(x.jsx)("footer",{children:Object(x.jsx)(o.a,{bg:"primary",expand:"lg"})})},f=c(17),g=c(117),v=c(74),y=c(126),I=c(8);var _=function(e){var t=Object(I.k)();return Object(x.jsxs)("div",{children:[Object(x.jsxs)(y.a,{class:"card border-primary mb-3",style:{maxWidth:"18rem"},children:[Object(x.jsx)(y.a.Img,{variant:"top",src:e.item.image}),Object(x.jsxs)(y.a.Body,{children:[Object(x.jsx)(y.a.Title,{children:e.item.name}),Object(x.jsx)(y.a.Text,{children:Object(x.jsxs)(g.a,{children:[Object(x.jsx)(v.a,{md:5,children:Object(x.jsxs)("h5",{class:"text-primary",children:[Object(x.jsx)("small",{children:"Rs. "})," ",e.item.price]})}),Object(x.jsxs)(v.a,{md:6,children:[Object(x.jsx)("small",{children:"Rs. "})," ",Object(x.jsx)("strike",{children:e.item.mrp}),Object(x.jsx)("br",{})]})]})}),Object(x.jsx)(g.a,{children:Object(x.jsx)(v.a,{md:12,children:Object(x.jsx)(b.a,{className:"btn-block",onClick:function(){var c="/item/".concat(e.item._id);t.push(c)},children:"Product Details"})})})]})]}),Object(x.jsx)("br",{})]})};var C=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),c=t[0],n=t[1];return Object(r.useEffect)((function(){fetch("/items/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return n(e)}))}),[]),Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsx)(g.a,{children:c.map((function(e){return Object(x.jsx)(v.a,{sm:12,md:6,lg:4,children:Object(x.jsx)(_,{item:e})},e._id)}))})]})},k=c(122),w=c(118),S=c(120);var L=function(e){var t=Object(r.useState)(1),c=Object(f.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)([]),i=Object(f.a)(s,2),o=i[0],d=i[1],h=Object(j.c)((function(e){return e.userLogin})).userInfo;return Object(r.useEffect)((function(){h?fetch("/item/".concat(e.match.params.id),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return d(e)})):e.history.push("/login?redirect=/item/".concat(e.match.params.id))})),Object(x.jsxs)("div",{children:[" ",Object(x.jsx)("br",{}),Object(x.jsx)(g.a,{children:Object(x.jsx)(l.Link,{to:"/",children:Object(x.jsx)(b.a,{class:"btn btn-outline-primary",children:"Go Back"})})}),Object(x.jsxs)(g.a,{children:[Object(x.jsx)(v.a,{md:5,children:Object(x.jsx)(k.a,{children:Object(x.jsx)(k.a.Image,{width:500,height:500,alt:"500x500",src:o.image})})}),Object(x.jsxs)(v.a,{md:7,children:[Object(x.jsxs)(g.a,{children:[Object(x.jsx)(v.a,{md:8,children:Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{children:[Object(x.jsxs)(w.a.Item,{children:[Object(x.jsx)("h3",{children:o.name}),"Brand: ",Object(x.jsx)("b",{children:o.brand})]}),Object(x.jsx)(w.a.Item,{children:Object(x.jsxs)(g.a,{children:[Object(x.jsxs)(v.a,{md:4,children:[Object(x.jsx)("small",{children:"Price: "}),Object(x.jsxs)("h5",{class:"text-success",children:[Object(x.jsx)("small",{children:"Rs. "}),o.price]}),Object(x.jsx)("small",{children:"(Inc. All Taxes) "})]}),Object(x.jsxs)(v.a,{md:4,children:[Object(x.jsx)("small",{children:"MRP: "}),Object(x.jsxs)("h6",{children:[Object(x.jsx)("small",{children:"Rs. "})," ",Object(x.jsx)("strike",{children:o.mrp})," "]})]}),Object(x.jsxs)(v.a,{md:4,children:[Object(x.jsx)("small",{children:"You Save: "}),Object(x.jsxs)("h6",{children:[Object(x.jsx)("small",{children:"Rs. "}),Object(x.jsxs)("b",{class:"text-primary",children:[" ",o.mrp-o.price,".00"]})," "]})]})]})})]})})}),Object(x.jsx)(v.a,{md:4,children:Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{children:[Object(x.jsx)(w.a.Item,{children:Object(x.jsxs)(S.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(x.jsx)(S.a.Label,{children:"Quantity"}),Object(x.jsxs)(S.a.Control,{as:"select",value:n,onChange:function(e){return a(e.target.value)},children:[Object(x.jsx)("option",{value:1,children:"1"},1),Object(x.jsx)("option",{value:2,children:"2"},2),Object(x.jsx)("option",{value:3,children:"3"},3),Object(x.jsx)("option",{value:4,children:"4"},4),Object(x.jsx)("option",{value:5,children:"5"},5)]})]})}),Object(x.jsx)(w.a.Item,{children:Object(x.jsx)(b.a,{className:"btn-block",onClick:function(){e.history.push("/cart/".concat(e.match.params.id,"?qty=").concat(n))},children:"Add to Cart"})})]})})})]}),Object(x.jsx)("br",{}),Object(x.jsx)(g.a,{children:Object(x.jsx)(v.a,{md:12,children:Object(x.jsx)(y.a,{children:Object(x.jsx)(w.a,{children:Object(x.jsxs)(w.a.Item,{children:[Object(x.jsx)("h5",{class:"text-info text-center",children:Object(x.jsx)("b",{children:"Description"})})," ",o.description]})})})})})]})]})]})},R=c(124),P=c(75),E=c(19),N=c.n(E),T=c(30),q=c(31),A=c.n(q),G=function(e,t){return function(){var c=Object(T.a)(N.a.mark((function c(r,n){var a,s;return N.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.get("/item/".concat(e));case 2:a=c.sent,s=a.data,r({type:"Add_item_to_cart",payload:{item:s._id,name:s.name,image:s.image,price:s.price,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()};var F=function(e){var t=e.match.params.id?e.match.params.id:0,c=e.location.search?Number(e.location.search.split("=")[1]):1,n=Object(j.b)(),a=Object(j.c)((function(e){return e.cart})).cartItems,s=Object(j.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){s?n(G(t,c)):e.history.push("/login?redirect=cart")}),[n,t,c]);var i=function(e){n(function(e){return function(t,c){t({type:"Remove_item_from_cart",payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))}}(e))};return Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsxs)(g.a,{children:[Object(x.jsx)(v.a,{md:8,children:Object(x.jsxs)(y.a,{children:[Object(x.jsx)(y.a.Header,{children:"Cart Items"}),0===a.length?Object(x.jsxs)(R.a,{children:[Object(x.jsx)("h3",{children:"No items in the Cart :( "})," To add Items",Object(x.jsx)(l.Link,{to:"/",children:" Go back  "})," to Home page"]}):Object(x.jsx)(y.a.Body,{children:Object(x.jsx)(y.a.Text,{children:Object(x.jsx)(w.a,{children:a.map((function(e){return Object(x.jsxs)(g.a,{children:[Object(x.jsx)(v.a,{md:2,children:Object(x.jsx)(k.a,{children:Object(x.jsx)(k.a.Image,{width:60,height:60,alt:"60x60",src:e.image})})}),Object(x.jsx)(v.a,{md:4,children:Object(x.jsxs)(l.Link,{to:"/item/".concat(e.item),children:[" ",e.name," "]})}),Object(x.jsxs)(v.a,{md:2,children:["Rs. ",e.price]}),Object(x.jsx)(v.a,{md:2,children:Object(x.jsx)(S.a.Group,{controlId:"exampleForm.ControlSelect1",children:Object(x.jsxs)(S.a.Control,{as:"select",value:e.qty,onChange:function(t){return n(G(e.item,Number(t.target.value)))},children:[Object(x.jsx)("option",{value:1,children:"1"},1),Object(x.jsx)("option",{value:2,children:"2"},2),Object(x.jsx)("option",{value:3,children:"3"},3),Object(x.jsx)("option",{value:4,children:"4"},4),Object(x.jsx)("option",{value:5,children:"5"},5)]})})}),Object(x.jsx)(v.a,{md:2,children:Object(x.jsx)(b.a,{variant:"link",onClick:function(){return i(e.item)},children:"Delete"})})]},e.item)}))})})})]})}),Object(x.jsx)(v.a,{md:4,children:Object(x.jsxs)(y.a,{children:[Object(x.jsx)(y.a.Header,{children:"Cart Overview"}),Object(x.jsxs)(y.a.Body,{children:[Object(x.jsx)(w.a,{variant:"flush",children:a.map((function(e){return Object(x.jsx)(w.a.Item,{children:Object(x.jsxs)(g.a,{children:[Object(x.jsxs)(v.a,{md:1,children:[" ",e.qty," "]}),Object(x.jsx)(v.a,{md:1,children:"x"}),Object(x.jsx)(v.a,{md:4,children:e.price}),Object(x.jsx)(v.a,{md:1,children:"="}),Object(x.jsxs)(v.a,{md:4,children:[" Rs. ",e.qty*e.price]})]})})}))}),Object(x.jsx)(w.a,{children:Object(x.jsxs)(w.a.Item,{children:[Object(x.jsxs)(g.a,{children:[Object(x.jsx)(v.a,{md:5,children:"Total Qty :"}),Object(x.jsxs)(v.a,{md:6,children:[" ",Object(x.jsx)("h5",{className:"text-success",children:a.reduce((function(e,t){return e+t.qty}),0)})," "]})]}),Object(x.jsxs)(g.a,{children:[Object(x.jsx)(v.a,{md:5,children:"Total Cost :"}),Object(x.jsx)(v.a,{md:6,children:Object(x.jsxs)("h5",{className:"text-success",children:[Object(x.jsx)("small",{children:"Rs. "}),a.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)," ",Object(x.jsx)("small",{children:"/-"})]})})]})]})}),Object(x.jsx)(w.a,{variant:"flush",children:Object(x.jsx)(P.a,{children:Object(x.jsx)(b.a,{type:"button",className:"btn-block",disabled:0===a.length,onClick:function(){e.history.push("/login?redirect=end")},children:"Place Order "})})})]})]})})]})]})};var B=function(e){var t=Object(r.useState)(""),c=Object(f.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)(""),o=Object(f.a)(s,2),d=o[0],h=o[1],u=Object(r.useState)(""),O=Object(f.a)(u,2),m=O[0],p=O[1],y=Object(r.useState)(""),I=Object(f.a)(y,2),_=I[0],C=I[1],k=Object(r.useState)(!0),w=Object(f.a)(k,2),L=w[0],P=w[1],E=Object(r.useState)(""),q=Object(f.a)(E,2),G=q[0],F=q[1],B=e.location.search?e.location.search.split("=")[1]:"/",H=Object(j.b)(),D=Object(j.c)((function(e){return e.userLogin})),J=D.error,z=Object(j.c)((function(e){return e.userRegister})),M=(D||z).userInfo;Object(r.useEffect)((function(){M&&e.history.push(B)}),[e.history,M,B]);var Q=0===d.length||0===m.length,W=0===n.length||0===d.length||0===m.length||0===_.length;return Object(x.jsx)(i.a,{children:Object(x.jsx)(g.a,{className:"justify-content-md-center",children:Object(x.jsxs)(v.a,{xs:12,md:6,children:[Object(x.jsxs)(S.a,{children:[L?Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Sign In"}),J&&Object(x.jsxs)(R.a,{variant:"warning",children:[" ",J," "]}),Object(x.jsxs)(S.a.Group,{controlId:"email",children:[Object(x.jsx)(S.a.Label,{children:"Email Address"}),Object(x.jsx)(S.a.Control,{type:"email",placeholder:"Enter Email",value:d,onChange:function(e){return h(e.target.value)}})]}),Object(x.jsxs)(S.a.Group,{controlId:"password",children:[Object(x.jsx)(S.a.Label,{children:"Password"}),Object(x.jsx)(S.a.Control,{type:"password",placeholder:"Enter Password",value:m,onChange:function(e){return p(e.target.value)}})]})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Register"}),G&&Object(x.jsxs)(R.a,{variant:"warning",children:[" ",G," "]}),Object(x.jsxs)(S.a.Group,{controlId:"name",children:[Object(x.jsx)(S.a.Label,{children:"Name"}),Object(x.jsx)(S.a.Control,{required:!0,type:"name",placeholder:"Enter name",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(x.jsxs)(S.a.Group,{controlId:"email",children:[Object(x.jsx)(S.a.Label,{children:"Email Address"}),Object(x.jsx)(S.a.Control,{type:"email",placeholder:"Enter Email",value:d,onChange:function(e){return h(e.target.value)}})]}),Object(x.jsxs)(S.a.Group,{controlId:"password",children:[Object(x.jsx)(S.a.Label,{children:"Password"}),Object(x.jsx)(S.a.Control,{type:"password",placeholder:"Enter Password",value:m,onChange:function(e){return p(e.target.value)}})]}),Object(x.jsxs)(S.a.Group,{controlId:"passwordConfirm",children:[Object(x.jsx)(S.a.Label,{children:"Confirm Password"}),Object(x.jsx)(S.a.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:_,onChange:function(e){return C(e.target.value)}})]})]}),L?Object(x.jsx)(b.a,{variant:"primary",onClick:function(e){e.preventDefault(),H(function(e,t){return function(){var c=Object(T.a)(N.a.mark((function c(r){var n,a;return N.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:"login_request"}),c.next=4,A.a.post("/login/",{username:e,password:t},{headers:{"Content-type":"application/json"}});case 4:n=c.sent,a=n.data,r({type:"login_successful",payload:a}),localStorage.setItem("userInfo",JSON.stringify(a)),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),r({type:"login_failed",payload:"Login Failed. Please check the credentials."});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(d,m))},disabled:Q,children:"Sign In"}):Object(x.jsx)(b.a,{variant:"primary",onClick:function(e){e.preventDefault(),n.length>=3?d===/^[a-zA-Z0-9]+@+[a-zA-Z0-9]+.+[A-z]/?m===_?H(function(e,t,c){return function(){var r=Object(T.a)(N.a.mark((function r(n){var a,s;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:"register_request"}),r.next=4,A.a.post("/register/",{name:e,email:t,password:c},{headers:{"Content-type":"application/json"}});case 4:a=r.sent,s=a.data,n({type:"register_successful",payload:s}),n({type:"login_successful",payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:"register_failed",payload:"Registration Failed"});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(n,d,m)):F("Passwords did not match. Please Enter correctly."):F("Please Enter a valid email address."):F("Please enter a valid name (size should be > 2). ")},disabled:W,children:"Register"})]}),Object(x.jsx)(g.a,{className:"py-3",children:Object(x.jsx)(v.a,{children:L?Object(x.jsxs)("div",{children:["New User? ",Object(x.jsx)(l.Link,{onClick:function(){return P(!1)},children:"Register"})]}):Object(x.jsxs)("div",{children:["Has an Account? ",Object(x.jsx)(l.Link,{onClick:function(){return P(!0)},children:"Sign In"})]})})})]})})})};var H=function(e){var t=Object(I.k)(),c=Object(j.b)(),n=Object(j.c)((function(e){return e.cart}));return n.totalPrice=n.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2),Object(r.useEffect)((function(){var e;c((e={orderItems:n.cartItems,totalPrice:n.totalPrice},function(){var t=Object(T.a)(N.a.mark((function t(c,r){var n,a,s,i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"create_order"}),n=r(),a=n.userLogin.userInfo,t.next=5,A.a.post("/addorders/",e,{headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}});case 5:s=t.sent,i=s.data,c({type:"order_success",payload:i}),c({type:"Remove_all_items_from_cart",payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),c({type:"create_order_fail",payload:"Order Failed. Please Try Again"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,c){return t.apply(this,arguments)}}())),c((function(e,t){e({type:"Remove_all_items_from_cart",payload:null}),localStorage.removeItem("cartItems")}))}),[c,t]),Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsxs)(y.a,{children:[Object(x.jsx)(y.a.Header,{}),Object(x.jsx)(y.a.Body,{children:Object(x.jsx)(y.a.Title,{children:"Your Order is Placed. Thanks for the Order. Have a nice Day :)"})})]})]})};var D=function(){return Object(x.jsxs)(l.HashRouter,{children:[Object(x.jsx)(m,{}),Object(x.jsxs)(i.a,{children:[Object(x.jsx)(I.d,{path:"/login",component:B,exact:!0}),Object(x.jsx)(I.d,{path:"/",component:C,exact:!0}),Object(x.jsx)(I.d,{path:"/item/:id",component:L}),Object(x.jsx)(I.d,{path:"/cart/:id?",component:F}),Object(x.jsx)(I.d,{path:"/end",component:H})]}),Object(x.jsx)("br",{}),Object(x.jsx)(p,{})]})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,127)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))},z=c(40),M=c(76),Q=c(77),W=c(78),Y=c(24),Z=Object(z.combineReducers)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Add_item_to_cart":var c=t.payload,r=e.cartItems.find((function(e){return e.item===c.item}));return r?Object(Y.a)(Object(Y.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.item===r.item?c:e}))}):Object(Y.a)(Object(Y.a)({},e),{},{cartItems:[].concat(Object(W.a)(e.cartItems),[c])});case"Remove_item_from_cart":return Object(Y.a)(Object(Y.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.item!==t.payload}))});case"Remove_all_items_from_cart":return Object(Y.a)(Object(Y.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login_request":return{loading:!0};case"login_successful":return{loading:!1,userInfo:t.payload};case"login_failed":return{loading:!1,error:t.payload};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register_request":return{loading:!0};case"register_successful":return{loading:!1,userInfo:t.payload};case"register_failed":return{loading:!1,error:t.payload};default:return e}},orderAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"create_order":return{loading:!0};case"order_success":return{loading:!1,success:!0,order:t.payload};case"create_order_fail":return{loading:!1,error:t.payload};case"Remove_all_items_from_cart":return{};default:return e}}}),U={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]},userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},K=[M.a],V=Object(z.createStore)(Z,U,Object(Q.composeWithDevTools)(z.applyMiddleware.apply(void 0,K)));s.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(j.a,{store:V,children:Object(x.jsx)(D,{})})}),document.getElementById("root")),J()},83:function(e,t,c){},84:function(e,t,c){}},[[112,1,2]]]);
//# sourceMappingURL=main.16b94e34.chunk.js.map